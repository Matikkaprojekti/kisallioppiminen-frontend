version: '3.7'
services:
  web:
    build:
      context: .
      shm_size: 1G
    volumes: 
      - ./dist:/app/dist
    ports:
      - "8080:3000"
    command: yarn watch
    environment:
      - IS_BUILD=true
    networks:
      - joint_network
  test:
    build:
      context: .
      shm_size: 1G
      dockerfile: Dockerfile-test
    environment:
      - IS_BUILD=false
    networks:
      - joint_network
networks:
  joint_network:
